# ğŸ”„ Fluxo Completo do Sistema TransFlow

## ğŸ“Š Diagrama do Fluxo

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           TRANSFLOW WMS/TMS                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ETAPA 1: RECEBIMENTO NO PORTO                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  FORNECEDOR (Origem)                                                    â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â””â”€â†’ LOTE (LOTE-2025-001) [CÃ“DIGO BARRAS]                         â”‚
â”‚            â”‚ status: em_porto                                          â”‚
â”‚            â”‚ quantidade_total: 100 produtos                            â”‚
â”‚            â”‚ data_chegada_porto: 2025-11-13                            â”‚
â”‚            â”‚                                                           â”‚
â”‚            â””â”€â†’ PRODUTOS (100x) [CÃ“DIGO BARRAS INDIVIDUAL]             â”‚
â”‚                 status: em_porto                                       â”‚
â”‚                 Cada produto tem cÃ³digo Ãºnico                          â”‚
â”‚                 HistÃ³rico: Recebido no porto                           â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ETAPA 2: SEPARAÃ‡ÃƒO E SUBLOTES                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  LOTE (em_separacao_em_processo)                                        â”‚
â”‚       â”‚                                                                 â”‚
â”‚       â”œâ”€â†’ SUBLOTE-CD-SP (SUBLOTE-2025-001) [CÃ“DIGO BARRAS]             â”‚
â”‚       â”‚    status: em_separacao                                        â”‚
â”‚       â”‚    cd_id: 1 (CD SÃ£o Paulo)                                     â”‚
â”‚       â”‚    quantidade: 60 produtos                                     â”‚
â”‚       â”‚    â”‚                                                           â”‚
â”‚       â”‚    â””â”€â†’ PRODUTOS (60x)                                         â”‚
â”‚       â”‚         status: em_separacao                                   â”‚
â”‚       â”‚         HistÃ³rico: Separado para SUBLOTE-2025-001              â”‚
â”‚       â”‚                                                                â”‚
â”‚       â”œâ”€â†’ SUBLOTE-CD-RJ (SUBLOTE-2025-002) [CÃ“DIGO BARRAS]             â”‚
â”‚       â”‚    status: em_separacao                                        â”‚
â”‚       â”‚    cd_id: 2 (CD Rio de Janeiro)                                â”‚
â”‚       â”‚    quantidade: 40 produtos                                     â”‚
â”‚       â”‚    â”‚                                                           â”‚
â”‚       â”‚    â””â”€â†’ PRODUTOS (40x)                                         â”‚
â”‚       â”‚         status: em_separacao                                   â”‚
â”‚       â”‚         HistÃ³rico: Separado para SUBLOTE-2025-002              â”‚
â”‚       â”‚                                                                â”‚
â”‚       â””â”€â†’ LOTE (status: separado)                                      â”‚
â”‚           HistÃ³rico: Lote finalizado, separado em 2 sublotes           â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ETAPA 3: TRANSPORTE PARA CD                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  SUBLOTE-2025-001                                                       â”‚
â”‚  status: em_transito_cd                                                â”‚
â”‚  data_movimentacao: 2025-11-13 10:00:00                                â”‚
â”‚  HistÃ³rico: Sublote saiu do porto para CD SP                           â”‚
â”‚  MovimentaÃ§Ã£o: Porto â†’ CD SÃ£o Paulo                                    â”‚
â”‚       â”‚                                                                â”‚
â”‚       â””â”€â†’ PRODUTOS (60x)                                              â”‚
â”‚            status: em_transito                                         â”‚
â”‚            HistÃ³rico: Produto em trÃ¢nsito                              â”‚
â”‚                                                                          â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                                          â”‚
â”‚  SUBLOTE-2025-002                                                       â”‚
â”‚  status: em_transito_cd                                                â”‚
â”‚  data_movimentacao: 2025-11-13 10:00:00                                â”‚
â”‚  HistÃ³rico: Sublote saiu do porto para CD RJ                           â”‚
â”‚  MovimentaÃ§Ã£o: Porto â†’ CD Rio de Janeiro                               â”‚
â”‚       â”‚                                                                â”‚
â”‚       â””â”€â†’ PRODUTOS (40x)                                              â”‚
â”‚            status: em_transito                                         â”‚
â”‚            HistÃ³rico: Produto em trÃ¢nsito                              â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ETAPA 4: CHEGADA E ARMAZENAMENTO NO CD                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  SUBLOTE-2025-001 (chegou_cd)                                           â”‚
â”‚  data_chegada_cd: 2025-11-13 14:00:00                                  â”‚
â”‚       â”‚                                                                â”‚
â”‚       â””â”€â†’ PRODUTOS (60x)                                              â”‚
â”‚            â”‚ HistÃ³rico: Chegou no CD SP                               â”‚
â”‚            â”‚                                                          â”‚
â”‚            â”œâ”€â†’ ESTOQUE_CD                                            â”‚
â”‚            â”‚   localizacao_id: A-01-01-01                            â”‚
â”‚            â”‚   status: armazenado                                    â”‚
â”‚            â”‚   data_armazenamento: 2025-11-13 15:30:00               â”‚
â”‚            â”‚   â”‚                                                      â”‚
â”‚            â”‚   â””â”€â†’ LOCALIZACAO (ZONA A, CORREDOR 01, PRAT 01, POS 01)â”‚
â”‚            â”‚       capacidade: 10 produtos (neste exemplo)            â”‚
â”‚            â”‚                                                          â”‚
â”‚            â””â”€â†’ PRODUTO (status: armazenado)                          â”‚
â”‚                HistÃ³rico: Armazenado em A-01-01-01                   â”‚
â”‚                MovimentaÃ§Ã£o: Porto â†’ CD SP â†’ LocalizaÃ§Ã£o A-01-01-01  â”‚
â”‚                                                                          â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                                                          â”‚
â”‚  SUBLOTE-2025-002 (chegou_cd)                                           â”‚
â”‚  data_chegada_cd: 2025-11-13 14:30:00                                  â”‚
â”‚       â”‚                                                                â”‚
â”‚       â””â”€â†’ PRODUTOS (40x)                                              â”‚
â”‚            â”‚ HistÃ³rico: Chegou no CD RJ                               â”‚
â”‚            â”‚                                                          â”‚
â”‚            â”œâ”€â†’ ESTOQUE_CD                                            â”‚
â”‚            â”‚   localizacao_id: B-02-03-02                            â”‚
â”‚            â”‚   status: armazenado                                    â”‚
â”‚            â”‚   data_armazenamento: 2025-11-13 16:00:00               â”‚
â”‚            â”‚                                                          â”‚
â”‚            â””â”€â†’ PRODUTO (status: armazenado)                          â”‚
â”‚                HistÃ³rico: Armazenado em B-02-03-02                   â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ETAPA 5: PEDIDO DO CLIENTE                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  CLIENTE (CLI-001)                                                      â”‚
â”‚       â”‚                                                                â”‚
â”‚       â””â”€â†’ PEDIDO (PED-2025-00001) [nÃºmero_pedido]                     â”‚
â”‚            status: pendente_preparacao                                â”‚
â”‚            cd_id: 1 (CD SP)                                           â”‚
â”‚            data_pedido: 2025-11-13 16:30:00                           â”‚
â”‚            HistÃ³rico: Pedido recebido                                 â”‚
â”‚            â”‚                                                          â”‚
â”‚            â”œâ”€â†’ ITEM_PEDIDO 1                                         â”‚
â”‚            â”‚   produto_id: PROD-001 (em A-01-01-01)                  â”‚
â”‚            â”‚   quantidade: 1                                         â”‚
â”‚            â”‚   status: pendente_separacao                            â”‚
â”‚            â”‚   HistÃ³rico: Item 1 adicionado ao pedido                â”‚
â”‚            â”‚                                                          â”‚
â”‚            â””â”€â†’ ITEM_PEDIDO 2                                         â”‚
â”‚                produto_id: PROD-015 (em A-01-02-03)                  â”‚
â”‚                quantidade: 1                                         â”‚
â”‚                status: pendente_separacao                            â”‚
â”‚                HistÃ³rico: Item 2 adicionado ao pedido                â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ETAPA 6: PREPARAÃ‡ÃƒO DO PEDIDO                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  PEDIDO (PED-2025-00001)                                                â”‚
â”‚  status: preparacao_em_processo                                        â”‚
â”‚  data_preparacao_inicio: 2025-11-13 17:00:00                           â”‚
â”‚  HistÃ³rico: PreparaÃ§Ã£o iniciada                                        â”‚
â”‚       â”‚                                                                â”‚
â”‚       â”œâ”€â†’ ITEM_PEDIDO 1                                               â”‚
â”‚       â”‚   status: em_separacao â†’ separado                             â”‚
â”‚       â”‚   data_separacao: 2025-11-13 17:05:00                         â”‚
â”‚       â”‚   HistÃ³rico: Item separado de A-01-01-01                      â”‚
â”‚       â”‚   â”‚                                                           â”‚
â”‚       â”‚   â””â”€â†’ PRODUTO (PROD-001)                                     â”‚
â”‚       â”‚       status: separado_para_envio                            â”‚
â”‚       â”‚       ESTOQUE_CD: status = reservado                         â”‚
â”‚       â”‚       MovimentaÃ§Ã£o: A-01-01-01 â†’ Zona de PreparaÃ§Ã£o          â”‚
â”‚       â”‚                                                               â”‚
â”‚       â””â”€â†’ ITEM_PEDIDO 2                                               â”‚
â”‚           status: em_separacao â†’ separado                             â”‚
â”‚           data_separacao: 2025-11-13 17:10:00                         â”‚
â”‚           HistÃ³rico: Item separado de A-01-02-03                      â”‚
â”‚           â”‚                                                           â”‚
â”‚           â””â”€â†’ PRODUTO (PROD-015)                                     â”‚
â”‚               status: separado_para_envio                            â”‚
â”‚               ESTOQUE_CD: status = reservado                         â”‚
â”‚               MovimentaÃ§Ã£o: A-01-02-03 â†’ Zona de PreparaÃ§Ã£o          â”‚
â”‚                                                                          â”‚
â”‚  PEDIDO (PED-2025-00001)                                                â”‚
â”‚  status: pronto_para_envio                                            â”‚
â”‚  data_preparacao_fim: 2025-11-13 17:15:00                             â”‚
â”‚  HistÃ³rico: Pedido pronto para envio                                  â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ETAPA 7: ENVIO PARA CLIENTE                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  ENVIO (ENV-2025-00001) [CÃ“DIGO BARRAS DO PACOTE]                      â”‚
â”‚  numero_rastreamento: TRK-98765432 (Transportadora)                    â”‚
â”‚  status: preparado_para_envio                                         â”‚
â”‚  data_saida_cd: 2025-11-13 17:30:00                                   â”‚
â”‚  transportadora: Loggi                                                â”‚
â”‚  HistÃ³rico: Envio criado e saiu do CD SP                              â”‚
â”‚       â”‚                                                                â”‚
â”‚       â”œâ”€â†’ PRODUTO (PROD-001)                                          â”‚
â”‚       â”‚   status: em_envio                                           â”‚
â”‚       â”‚   HistÃ³rico: Saiu do CD em pacote ENV-2025-00001              â”‚
â”‚       â”‚                                                               â”‚
â”‚       â””â”€â†’ PRODUTO (PROD-015)                                          â”‚
â”‚           status: em_envio                                           â”‚
â”‚           HistÃ³rico: Saiu do CD em pacote ENV-2025-00001              â”‚
â”‚                                                                          â”‚
â”‚  PEDIDO (PED-2025-00001)                                                â”‚
â”‚  status: enviado                                                      â”‚
â”‚  HistÃ³rico: Pedido enviado                                            â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ETAPA 8: ENTREGA AO CLIENTE                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  ENVIO (ENV-2025-00001)                                                 â”‚
â”‚  status: em_transito â†’ entregue                                        â”‚
â”‚  data_entrega: 2025-11-15 10:30:00                                     â”‚
â”‚  HistÃ³rico: Envio entregue                                             â”‚
â”‚       â”‚                                                                â”‚
â”‚       â”œâ”€â†’ PRODUTO (PROD-001)                                          â”‚
â”‚       â”‚   status: entregue                                           â”‚
â”‚       â”‚   HistÃ³rico: Entregue ao cliente                              â”‚
â”‚       â”‚                                                               â”‚
â”‚       â””â”€â†’ PRODUTO (PROD-015)                                          â”‚
â”‚           status: entregue                                           â”‚
â”‚           HistÃ³rico: Entregue ao cliente                              â”‚
â”‚                                                                          â”‚
â”‚  PEDIDO (PED-2025-00001)                                                â”‚
â”‚  status: entregue                                                     â”‚
â”‚  data_entrega: 2025-11-15 10:30:00                                     â”‚
â”‚  HistÃ³rico: Pedido entregue com sucesso                               â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ETAPA 9: LOGÃSTICA REVERSA (SE HOUVER DEFEITO)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  CLIENTE detecta defeito em PROD-015                                   â”‚
â”‚       â”‚                                                                â”‚
â”‚       â””â”€â†’ LOGISTICA_REVERSA (DEV-2025-00001)                          â”‚
â”‚            status: solicitado                                         â”‚
â”‚            motivo: defeito                                           â”‚
â”‚            descricao_defeito: "Tela trincada"                        â”‚
â”‚            data_solicitacao: 2025-11-15 14:00:00                     â”‚
â”‚            HistÃ³rico: DevoluÃ§Ã£o solicitada                            â”‚
â”‚            â”‚                                                          â”‚
â”‚            â”œâ”€â†’ status: coletando â†’ coletado                          â”‚
â”‚            â”‚   data_coleta: 2025-11-16 10:00:00                      â”‚
â”‚            â”‚   HistÃ³rico: Produto coletado                           â”‚
â”‚            â”‚                                                          â”‚
â”‚            â”œâ”€â†’ PRODUTO (PROD-015)                                    â”‚
â”‚            â”‚   status: defeito_reversa                               â”‚
â”‚            â”‚   MovimentaÃ§Ã£o: Cliente â†’ CD SP                         â”‚
â”‚            â”‚                                                          â”‚
â”‚            â”œâ”€â†’ status: em_transito_reversa â†’ recebido_cd              â”‚
â”‚            â”‚   data_recepcao_cd: 2025-11-17 14:00:00                 â”‚
â”‚            â”‚   HistÃ³rico: Produto recebido de volta no CD             â”‚
â”‚            â”‚                                                          â”‚
â”‚            â”œâ”€â†’ status: em_analise                                     â”‚
â”‚            â”‚   data_evento: 2025-11-17 15:00:00                      â”‚
â”‚            â”‚   HistÃ³rico: AnÃ¡lise iniciada                           â”‚
â”‚            â”‚                                                          â”‚
â”‚            â”œâ”€â†’ resultado_analise: defeito_confirmado                  â”‚
â”‚            â”‚   HistÃ³rico: Defeito confirmado                         â”‚
â”‚            â”‚                                                          â”‚
â”‚            â””â”€â†’ status: resolvido                                      â”‚
â”‚                AÃ§Ã£o: Reembolso / Troca enviada                        â”‚
â”‚                HistÃ³rico: LogÃ­stica reversa finalizada                â”‚
â”‚                                                                          â”‚
â”‚  PRODUTO (PROD-015)                                                     â”‚
â”‚  status: devolvido / reembolsado                                       â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ Estados dos Produtos

```
em_porto
    â†“
em_separacao
    â†“
em_transito
    â†“
armazenado â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“                                 â”‚
em_pedido                             â”‚
    â†“                                 â”‚
preparacao_pendente                   â”‚
    â†“                                 â”‚
separado_para_envio                   â”‚
    â†“                                 â”‚
em_envio                              â”‚
    â†“                                 â”‚
entregue âœ“                            â”‚
                                      â”‚
   [SE DEFEITO]                       â”‚
        â†“                             â”‚
defeito_reversa â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“
    devolvido
```

---

## ğŸ“Š Tabelas Chave por Etapa

| Etapa | Tabelas Envolvidas | Campos CrÃ­ticos |
|-------|-------------------|-----------------|
| 1. Porto | lotes, produtos | codigo_barras, status |
| 2. SeparaÃ§Ã£o | sublotes, produtos | sublote_id, status |
| 3. Transporte | sublotes, movimentacoes | cd_id, data_movimentacao |
| 4. Armazenamento | estoque_cd, localizacoes_cd | localizacao_id, status |
| 5. Pedido | pedidos, itens_pedido | numero_pedido, cliente_id |
| 6. PreparaÃ§Ã£o | itens_pedido, estoque_cd | status, data_separacao |
| 7. Envio | envios, movimentacoes | numero_rastreamento, status |
| 8. Entrega | envios, pedidos | data_entrega, status |
| 9. Reversa | logistica_reversa, movimentacoes | motivo, resultado_analise |

---

**Criado em:** 13 de Novembro de 2025
**Status:** âœ… Fluxo Completo Mapeado
